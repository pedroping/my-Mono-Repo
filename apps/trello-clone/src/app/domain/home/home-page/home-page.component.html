<div
  class="allBlocks"
  cdkDropList
  cdkDropListGroup
  cdkDropListOrientation="horizontal"
  [cdkDropListData]="blocks$.value"
  [cdkDropListAutoScrollStep]="18"
  (cdkDropListDropped)="listDropped($event)"
>
  <div
    class="block"
    cdkDrag
    (cdkDragMoved)="onMove()"
    *ngFor="let timePeriod of blocks$ | async; let index = index"
  >
    <div cdkDragHandle></div>
    <div *cdkDragPlaceholder>
      <trello-card-block
        [isPreview]="true"
        [cards]="timePeriod.cards"
      ></trello-card-block>
    </div>
    <trello-card-block
      [title]="timePeriod.name"
      [cards]="timePeriod.cards"
      [id]="index"
    ></trello-card-block>
  </div>
  <trello-add-new-block></trello-add-new-block>
</div>
