<div
  class="allBlocks"
  cdkDropList
  [cdkDropListData]="blocks$.value"
  cdkDropListOrientation="horizontal"
  [cdkDropListAutoScrollStep]="18"
  (cdkDropListDropped)="listDropped($event)"
  cdkDropListGroup
  cdkScrollable
>
  <div
    class="block"
    cdkDrag
    cdkScrollable
    (cdkDragMoved)="onMove()"
    cdkDragPreviewContainer="global"
    cdkScrollable
    *ngFor="let cardBlock of blocks$ | async; let index = index"
  >
    <div
      cdkDragHandle
      *obsavableBasedElement="creatEvent$; delete: deleteEvent$"
    ></div>
    <div *cdkDragPlaceholder>
      <trello-card-block
        [isPreview]="true"
        [cards]="cardBlock.cards"
      ></trello-card-block>
    </div>
    <trello-card-block
      [title]="cardBlock.name"
      [cards]="cardBlock.cards"
      [id]="index"
    ></trello-card-block>
  </div>
  <trello-add-new-block></trello-add-new-block>
</div>
